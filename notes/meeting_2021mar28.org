* meeting notes Mar 28, 2021
** topics
*** news: perl foundation project to improve raku docs
**** https://perl-foundation-outreach.github.io/season-of-docs-ideas/docs.html
***** some of the ideas include documenting exceptions and traits better
***** they're looking for suggestions for big things to fix (not our usual bug reports to JJ)

*** news: classes can have custom type coercion in 2020.11
https://rakudoweekly.blog/2020/11/16/2020-46-coercion-renewed/

*** extracting results from grammar matches
**** alternate example, works
/home/doom/End/Cave/Perl6/Wall/raku-study/bin/2021mar21/ini_file_parsing_with_zoffix_grammar.raku
***** from zoffix talk july 28, 2018 intro p6 regexes and grammars
****** https://www.youtube.com/watch?v=TUmFAPvssrk

**** narrow down what was wrong with moritz lenz inifile
***** /home/doom/End/Cave/Perl6/Wall/raku-study/bin/2021mar21/ini_file_parsing_with_moritz_lenz_grammar.raku
****** bruce gray sorted it out: Needed a $/.<value> to deref, *not* $/.value
******* bad gotcha: the .value method is there for the grammar to work
******** if I understand right: calling it restarts part of the grammar matching
*** grammar to parse doomfiles
**** simple scripts, e.g. scan through browse sequence (done)
https://github.com/doomvox/raku-study/blob/main/bin/2021mar28/doomfiles_browse_sequence-ii.raku
***** a number of issues: 
****** bad efficiency bug (Mohrvm panic!) 
******* fixed by changing   stuff regex (.*?) to non-greedy (.*)
******* yary hluchan suggests

******** in the specialized HTML-grammar you had, the decision points are all at left-brackets. 
By re-writing "stuff" so that it will only backtrack when it hits a bracket, 
I expect more speed-memory gains.

#+BEGIN_SRC perl6-mode
    regex stuff
    { (  # capture stuff (positional capture might not be needed)
        [               # Stuff is a group of either
            \<          # a left-bracket decision point
          ||            # or
            <-[ \< ]>+: # a ratcheting string of non-decision points
        ]*              # 0-many of those. Greedy or non-greedy both work?
    ) }  # end capture, end regex
#+END_SRC
****** raku regex's care about trailing whitespace when using $
******* need a \s* at the end of TOP in my grammar
******* tried a \v but sometimes there's more than one trailing newline, 
sometimes there are a few spaces thrown in...

**** case insensitive matches (TODO check syntax)
|                              | perl5              | raku                  |
|------------------------------+--------------------+-----------------------|
| external modifier/adverb     | m/.../i            | m:i/.../              |
| internal to pattern          | m/(?i: ... )/      | m:/ :i ... /          |
| mixed, only part insensitive | m/(?i: ... ) ... / | m:/ [ :i ... ] ...  / |
|                              |                    |                       |

**** using a real html parser is usually recommended, of course:
***** Yary H : The HTML-tree-find module I was looking at is https://github.com/zostay/raku-DOM-Tiny

*** getting a list of primes with monotonically increasing differences
**** bruce gray shows us some lazy list trickery up at rosettacode now
***** http://rosettacode.org/wiki/Next_special_primes#Raku

**** sub with "destructuring" syntax:

#+BEGIN_SRC perl6-mode
sub is-special ( ($previous, $gap) ) {
#+END_SRC

sub takes a list of two elements, unpacked into the two named variables.  

(Better than my usual dodge of passing a var named $pair which is
not actually a Pair.)

*** the .first method 
william michels was interested in some lizmat examples from irc

https://github.com/doomvox/raku-study/blob/main/bin/2021mar28/first_method_on_arrays.raku
/home/doom/End/Cave/Perl6/Wall/raku-study/bin/2021mar28/first_method_on_arrays.raku

** next meeting on april 11th, taking a break for easter
